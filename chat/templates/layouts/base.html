{% load static %}
{% load i18n %}
{% load compress %}
{% load uikit %}

{% get_current_language as LANGUAGE_CODE %}
<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>{% block title %}{{ APP_NAME }}{% endblock title %}</title>


    <meta name="description" content="E2EE Chat">
    <meta name="author" content="Romain J.">

    <link rel="icon" href="{% static 'images/favicons/favicon.ico' %}">

    {% block css %}
        {% compress css %}
            <link href="{% static 'css/libs/uikit/uikit.min.css' %}" rel="stylesheet">
            <link href="{% static 'css/project.css' %}" rel="stylesheet">
            {% block inline_stylesheet %}{% endblock inline_stylesheet %}
        {% endcompress %}
    {% endblock %}

    {% block javascript %}
        {% compress js %}
            <script defer src="{% static 'js/libs/uikit/uikit.js' %}"></script>
            <script defer src="{% static 'js/libs/uikit/uikit-icons.js' %}"></script>
            <script defer src="{% static 'js/project.js' %}"></script>
        {% endcompress %}
    {% endblock javascript %}
</head>

<body>

<div id="app" class="uk-flex uk-flex-column uk-height-viewport">
    {% block navbar %}
        {% include 'layouts/parts/navbar.html' %}
    {% endblock navbar %}

    <div class="uk-flex uk-flex-middle uk-animation-fade uk-animation-fast uk-height-1-1">
        <div class="uk-width-1-1">
            <div class="uk-container">
                {% block content %}{% endblock content %}
            </div>
        </div>
    </div>

    {% if messages %}
        <script>
            window.addEventListener("load", () => {
                {% for message in messages %}
                    UIkit.notification({
                        message: '{{ message }}',
                        pos: 'top-right',
                        status: {% if message.tags %} '{{ message.tags|tags_parser  }}'  {% else %}
                            'primary' {% endif %}
                    });
                {% endfor %}
            })
        </script>
    {% endif %}

    {% block footer %}
        {% include 'layouts/parts/footer.html' %}
    {% endblock footer %}
</div>


{% block modal %}{% endblock modal %}

{% block inline_javascript %}{% endblock inline_javascript %}

</body>
</html>
